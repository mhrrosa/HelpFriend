
DROP TABLE IF EXISTS `endereco`;

CREATE TABLE `endereco` (
  `Id` int NOT NULL,
  `Bairro` varchar(100) NOT NULL,
  `Estado` varchar(100) NOT NULL,
  `Logradouro` varchar(100) NOT NULL,
  `Numero` int NOT NULL,
  `Complemento` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`)
);

DROP TABLE IF EXISTS `administrador`;

CREATE TABLE `administrador` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `Nome` varchar(100) NOT NULL,
  `Senha` varchar(100) NOT NULL,
  `email` varchar(100) NOT NULL,
  UNIQUE KEY `administrador_un` (`Id`)
);

DROP TABLE IF EXISTS `instituicao`;

CREATE TABLE `instituicao` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `Nome` varchar(100) NOT NULL,
  `Senha` varchar(100) NOT NULL,
  `id_administrador` int NOT NULL,
  `id_endereco` int NOT NULL,
  `email` varchar(100) NOT NULL,
  `telefone` varchar(11) NOT NULL,
  UNIQUE KEY `instituicao_un` (`Id`),
  KEY `instituicao_FK` (`id_administrador`),
  KEY `instituicao_endereco_FK` (`id_endereco`),
  CONSTRAINT `instituicao_endereco_FK` FOREIGN KEY (`id_endereco`) REFERENCES `endereco` (`Id`),
  CONSTRAINT `instituicao_FK` FOREIGN KEY (`id_administrador`) REFERENCES `administrador` (`Id`)
);

DROP TABLE IF EXISTS `adotante`;

CREATE TABLE `adotante` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `Nome` varchar(100) NOT NULL,
  `Senha` varchar(100) NOT NULL,
  `Cpf` varchar(11) NOT NULL,
  `id_endereco` int NOT NULL,
  `email` varchar(100) NOT NULL,
  UNIQUE KEY `adotante_un` (`Id`),
  CONSTRAINT `adotante_FK` FOREIGN KEY (`id_endereco`) REFERENCES `endereco` (`Id`)
);

DROP TABLE IF EXISTS `cachorro`;

CREATE TABLE `cachorro` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `Nome` varchar(100) NOT NULL,
  `Raca` varchar(50) NOT NULL,
  `Ano_Nascimento` varchar(4) NOT NULL,
  `Porte` varchar(30) NOT NULL,
  `Id_Instituicao` int NOT NULL,
  `Imagem` binary(1) DEFAULT NULL,
  PRIMARY KEY (`Id`),
  KEY `cachorro_FK` (`Id_Instituicao`),
  CONSTRAINT `cachorro_FK` FOREIGN KEY (`Id_Instituicao`) REFERENCES `instituicao` (`Id`)
);

DROP TABLE IF EXISTS `funcionario`;

CREATE TABLE `funcionario` (
  `Id` int NOT NULL AUTO_INCREMENT,
  `Nome` varchar(100) NOT NULL,
  `Senha` varchar(100) NOT NULL,
  `Id_Instituicao` int NOT NULL,
  `cpf` varchar(11) NOT NULL,
  `cargo` varchar(100) NOT NULL,
  `email` varchar(100) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `funcionario_FK` (`Id_Instituicao`),
  CONSTRAINT `funcionario_FK` FOREIGN KEY (`Id_Instituicao`) REFERENCES `instituicao` (`Id`)
);

DROP TABLE IF EXISTS `reserva`;

CREATE TABLE `reserva` (
  `id_reserva` int NOT NULL AUTO_INCREMENT,
  `id_adotante` int NOT NULL,
  `id_cachorro` int NOT NULL,
  PRIMARY KEY (`id_reserva`),
  KEY `reserva_adotante_FK` (`id_adotante`),
  KEY `reserva_cachorro_FK` (`id_cachorro`),
  CONSTRAINT `reserva_adotante_FK` FOREIGN KEY (`id_adotante`) REFERENCES `adotante` (`Id`),
  CONSTRAINT `reserva_cachorro_FK` FOREIGN KEY (`id_cachorro`) REFERENCES `cachorro` (`Id`)
);
